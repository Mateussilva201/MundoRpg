<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Hub das Fichas</title>
    <link rel="icon" type="image/png" href="Logo.png" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Anton&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap');

        * {
            margin: 0;
            padding: 0;
            text-decoration: none;
            box-sizing: border-box
        }

        body {
            background-color: #111;
            color: white;
            font-family: sans-serif;
            padding: 20px;
            overflow-x: hidden
        }

        .header-content {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            padding: 10px 0;
            text-align: center
        }

        .logo {
            height: 60px;
            display: block;
            max-width: 100%
        }

        h1 {
            font-family: "Josefin Sans", sans-serif;
            font-style: normal;
            font-weight: 650;
            color: #ae00ff;
            font-size: clamp(28px, 5vw, 50px);
            margin: 0;
            text-align: center
        }

        button {
            padding: 10px 20px;
            font-size: clamp(14px, 2vw, 16px);
            background-color: #ae00ff;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
            margin-right: 10px;
            transition: background-color .3s ease, transform .2s ease;
            white-space: nowrap
        }

        button:hover {
            background-color: #9000d3;
            transform: scale(1.05)
        }

        .lista-fichas {
            min-height: 585px;
            border-radius: 25px;
            margin-top: 50px;
            box-shadow: 0 0 25px 5px #7700ff;
            max-width: 100%;
            overflow: hidden
        }

        ul {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            padding: 20px;
            justify-content: center
        }

        ul li {
            background-color: #313131;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px #ae00ff4d;
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 200px;
            max-width: 90vw;
            transition: transform .3s ease, opacity .3s ease;
            opacity: 0;
            transform: scale(.9);
            animation: aparecer .3s forwards;
            word-break: break-word
        }

        ul li:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px #6200ff80;
            transition: transform .3s ease, box-shadow .3s ease
        }

        @keyframes aparecer {
            to {
                opacity: 1;
                transform: scale(1)
            }
        }

        li.fadeout {
            opacity: 0 !important;
            transform: scale(.8) !important;
            transition: all .3s ease
        }

        .nome-ficha {
            cursor: text;
            flex: 1;
            font-size: clamp(14px, 2vw, 18px);
            overflow: hidden;
            text-overflow: ellipsis
        }

        .input-edit {
            font-size: 16px;
            padding: 5px;
            border-radius: 4px;
            border: 1px solid #888;
            background-color: #333;
            color: white;
            width: 100%
        }

        .container {
            display: inline-block;
            position: relative;
            cursor: pointer;
            user-select: none;
            margin-right: 18px;
            vertical-align: middle;
            flex-shrink: 0
        }

        .container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0
        }

        .checkmark {
            position: relative;
            display: inline-block;
            height: 1.3em;
            width: 1.3em;
            background-color: #ccc;
            border-radius: 5px;
            box-shadow: 1px 1px 0px rgb(183, 183, 183);
            transition: all .2s ease
        }

        .container input:checked+.checkmark {
            background-image: linear-gradient(45deg, rgb(100, 61, 219), rgb(163, 152, 212));
            box-shadow: 3px 3px 0px rgb(183, 183, 183)
        }

        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
            left: .45em;
            top: .25em;
            width: .25em;
            height: .5em;
            border: solid white;
            border-width: 0 .15em .15em 0;
            transform: rotate(45deg)
        }

        .container input:checked+.checkmark:after {
            display: block
        }

        .btns {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            text-align: center
        }

        button {
            justify-content: center;
            font-family: "Josefin Sans", sans-serif;
            box-shadow: 0 0 15px #6200ff80
        }

        button:hover {
            background-color: #313131
        }

        @media (max-width:768px) {
            body {
                padding: 10px
            }

            .lista-fichas {
                min-height: auto
            }

            ul {
                gap: 15px;
                padding: 10px
            }

            ul li {
                min-width: 150px;
                padding: 10px 15px
            }
        }

        @media (max-width:480px) {
            button {
                width: 100%;
                margin-right: 0;
                font-size: 14px
            }

            ul li {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
                text-align: left
            }

            .nome-ficha {
                font-size: 16px
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="header-content">
            <h1>Menu de Fichas</h1>
        </div>
    </header>
    <main>
        <div class="btns">
            <a class="link" href="fichas.html"><button class="voltar"><span class="text">Voltar</span></button></a>
            <button id="addFichaGenerica"><span class="text">Criar Ficha Generica</span></button>
            <button id="removerFichasBtn"><span class="text">Remover Fichas Selecionadas</span></button>
            <button id="selecionarTodasBtn"><span class="text">Selecionar Todas</span></button>
        </div>
        <div class="lista-fichas">
            <ul id="listaFichas"></ul>
        </div>
    </main>
    <script>
        let contadorFichas = 1; const btnAdicionar = document.getElementById("addFichaBtn"); const btnRemover = document.getElementById("removerFichasBtn"); const lista = document.getElementById("listaFichas"); const btnSelecionarTodas = document.getElementById("selecionarTodasBtn"); const btnAdicionarGenerica = document.getElementById("addFichaGenerica"); let isMouseDown = false; let tudoSelecionado = false; function adicionarFicha(nome = "Ficha Nova", marcada = true, id = Date.now(), destino = "f_g.html") { const novaFicha = document.createElement("li"); novaFicha.dataset.id = id; novaFicha.dataset.destino = destino; const labelContainer = document.createElement("label"); labelContainer.classList.add("container"); const checkbox = document.createElement("input"); checkbox.type = "checkbox"; checkbox.checked = marcada; checkbox.addEventListener("click", function (e) { e.stopPropagation() }); checkbox.addEventListener("change", salvarFichas); const checkmarkDiv = document.createElement("div"); checkmarkDiv.classList.add("checkmark"); labelContainer.appendChild(checkbox); labelContainer.appendChild(checkmarkDiv); const textoFicha = document.createElement("span"); textoFicha.textContent = nome; textoFicha.classList.add("nome-ficha"); textoFicha.addEventListener("click", function (e) { e.stopPropagation(); const input = document.createElement("input"); input.type = "text"; input.value = textoFicha.textContent; input.classList.add("input-edit"); textoFicha.replaceWith(input); input.focus(); function salvar() { textoFicha.textContent = input.value || nome; input.replaceWith(textoFicha); salvarFichas() } input.addEventListener("blur", salvar); input.addEventListener("keydown", function (e) { if (e.key === "Enter") salvar() }) }); novaFicha.appendChild(labelContainer); novaFicha.appendChild(textoFicha); lista.appendChild(novaFicha); novaFicha.addEventListener("click", (e) => { if (e.target.closest(".container") || e.target.tagName === "INPUT" || e.target.classList.contains("input-edit") || e.target.classList.contains("nome-ficha")) return; localStorage.setItem("fichaSelecionadaId", id); window.location.href = destino }); salvarFichas() } btnAdicionarGenerica.addEventListener("click", function () { adicionarFicha("Ficha GenÃ©rica", false, Date.now(), "f_g.html") }); btnRemover.addEventListener("click", function () { const fichas = document.querySelectorAll("#listaFichas li"); fichas.forEach(ficha => { const checkbox = ficha.querySelector("input[type='checkbox']"); if (checkbox.checked) { ficha.classList.add("fadeout"); setTimeout(() => { ficha.remove(); salvarFichas() }, 300) } }); salvarFichas() }); btnSelecionarTodas.addEventListener("click", () => { const fichas = document.querySelectorAll("#listaFichas li input[type='checkbox']"); fichas.forEach(checkbox => { checkbox.checked = tudoSelecionado }); tudoSelecionado = !tudoSelecionado; btnSelecionarTodas.textContent = tudoSelecionado ? "Desmarcar Todas" : "Selecionar Todas"; btnSelecionarTodas.classList.toggle("ativo", tudoSelecionado); salvarFichas() }); lista.addEventListener("mousedown", function (e) { if (e.target.closest(".nome-ficha")) return; if (e.target.closest("li")) { e.preventDefault(); isMouseDown = true; toggleCheckbox(e.target.closest("li")) } }); lista.addEventListener("mouseover", function (e) { if (isMouseDown && !e.target.closest(".nome-ficha") && e.target.closest("li")) { toggleCheckbox(e.target.closest("li")) } }); document.addEventListener("mouseup", function () { isMouseDown = false }); function toggleCheckbox(li) { const checkbox = li.querySelector("input[type='checkbox']"); if (checkbox) checkbox.checked = !checkbox.checked } function salvarFichas() { const fichas = []; document.querySelectorAll("#listaFichas li").forEach(li => { const nome = li.querySelector("span").textContent; const marcada = li.querySelector("input[type='checkbox']").checked; const id = li.dataset.id; const destino = li.dataset.destino || "f_g.html"; fichas.push({ id, nome, marcada, destino }) }); localStorage.setItem("fichas", JSON.stringify(fichas)) } function carregarFichas() { const fichasSalvas = JSON.parse(localStorage.getItem("fichas") || "[]"); fichasSalvas.forEach(ficha => { adicionarFicha(ficha.nome, ficha.marcada, ficha.id, ficha.destino) }) } window.addEventListener("DOMContentLoaded", carregarFichas);
    </script>
</body>

</html>
